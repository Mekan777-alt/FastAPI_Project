"""add on delete cascade all foreign key

Revision ID: 67199afd7437
Revises: 8ace617b8708
Create Date: 2024-05-31 20:59:23.546376

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '67199afd7437'
down_revision: Union[str, None] = '8ace617b8708'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint('additional_services_additional_service_id_fkey', 'additional_services', type_='foreignkey')
    op.drop_constraint('additional_services_order_id_fkey', 'additional_services', type_='foreignkey')
    op.drop_constraint('additional_services_service_id_fkey', 'additional_services', type_='foreignkey')
    op.create_foreign_key(None, 'additional_services', 'orders', ['order_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'additional_services', 'services', ['service_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'additional_services', 'additional_services_list', ['additional_service_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('additional_services_list_service_id_fkey', 'additional_services_list', type_='foreignkey')
    op.create_foreign_key(None, 'additional_services_list', 'services', ['service_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('apartment_profiles_object_id_fkey', 'apartment_profiles', type_='foreignkey')
    op.create_foreign_key(None, 'apartment_profiles', 'object_profiles', ['object_id'], ['id'], ondelete='CASCADE')
    op.add_column('bank_detail_executors', sa.Column('executor_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'bank_detail_executors', 'executor_profiles', ['executor_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('bathroom_apartments_apartment_id_fkey', 'bathroom_apartments', type_='foreignkey')
    op.create_foreign_key(None, 'bathroom_apartments', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('contacts_uk_id_fkey', 'contacts', type_='foreignkey')
    op.create_foreign_key(None, 'contacts', 'uk_profiles', ['uk_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('employee_notification_employee_id_fkey', 'employee_notification', type_='foreignkey')
    op.drop_constraint('employee_notification_object_id_fkey', 'employee_notification', type_='foreignkey')
    op.create_foreign_key(None, 'employee_notification', 'object_profiles', ['object_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'employee_notification', 'uk_employees', ['employee_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('executor_profiles_bank_details_id_fkey', 'executor_profiles', type_='foreignkey')
    op.drop_constraint('executor_profiles_uk_id_fkey', 'executor_profiles', type_='foreignkey')
    op.create_foreign_key(None, 'executor_profiles', 'bank_detail_executors', ['bank_details_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'executor_profiles', 'uk_profiles', ['uk_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('guest_pass_apartment_id_fkey', 'guest_pass', type_='foreignkey')
    op.create_foreign_key(None, 'guest_pass', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('guest_pass_documents_guest_pass_id_fkey', 'guest_pass_documents', type_='foreignkey')
    op.create_foreign_key(None, 'guest_pass_documents', 'guest_pass', ['guest_pass_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('invoice_history_service_id_fkey', 'invoice_history', type_='foreignkey')
    op.drop_constraint('invoice_history_apartment_id_fkey', 'invoice_history', type_='foreignkey')
    op.drop_constraint('invoice_history_meter_service_id_fkey', 'invoice_history', type_='foreignkey')
    op.create_foreign_key(None, 'invoice_history', 'meter_service', ['meter_service_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'invoice_history', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'invoice_history', 'services', ['service_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('meters_meter_service_id_fkey', 'meters', type_='foreignkey')
    op.drop_constraint('meters_apartment_id_fkey', 'meters', type_='foreignkey')
    op.create_foreign_key(None, 'meters', 'meter_service', ['meter_service_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'meters', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('news_uk_id_fkey', 'news', type_='foreignkey')
    op.create_foreign_key(None, 'news', 'uk_profiles', ['uk_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('news_apartments_news_id_fkey', 'news_apartments', type_='foreignkey')
    op.drop_constraint('news_apartments_apartment_id_fkey', 'news_apartments', type_='foreignkey')
    op.create_foreign_key(None, 'news_apartments', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'news_apartments', 'news', ['news_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('object_profiles_uk_id_fkey', 'object_profiles', type_='foreignkey')
    op.create_foreign_key(None, 'object_profiles', 'uk_profiles', ['uk_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('orders_apartment_id_fkey', 'orders', type_='foreignkey')
    op.drop_constraint('orders_selected_service_id_fkey', 'orders', type_='foreignkey')
    op.create_foreign_key(None, 'orders', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'orders', 'services', ['selected_service_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('orders_executors_executor_id_fkey', 'orders_executors', type_='foreignkey')
    op.drop_constraint('orders_executors_order_id_fkey', 'orders_executors', type_='foreignkey')
    op.create_foreign_key(None, 'orders_executors', 'orders', ['order_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'orders_executors', 'executor_profiles', ['executor_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('orders_from_tenant_order_id_fkey', 'orders_from_tenant', type_='foreignkey')
    op.drop_constraint('orders_from_tenant_tenant_id_fkey', 'orders_from_tenant', type_='foreignkey')
    op.create_foreign_key(None, 'orders_from_tenant', 'tenant_profiles', ['tenant_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'orders_from_tenant', 'orders', ['order_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('service_objects_list_service_id_fkey', 'service_objects_list', type_='foreignkey')
    op.drop_constraint('service_objects_list_object_id_fkey', 'service_objects_list', type_='foreignkey')
    op.create_foreign_key(None, 'service_objects_list', 'services', ['service_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'service_objects_list', 'object_profiles', ['object_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('tenant_apartments_tenant_id_fkey', 'tenant_apartments', type_='foreignkey')
    op.drop_constraint('tenant_apartments_apartment_id_fkey', 'tenant_apartments', type_='foreignkey')
    op.create_foreign_key(None, 'tenant_apartments', 'apartment_profiles', ['apartment_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'tenant_apartments', 'tenant_profiles', ['tenant_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('tenant_notification_tenant_id_fkey', 'tenant_notification', type_='foreignkey')
    op.create_foreign_key(None, 'tenant_notification', 'tenant_profiles', ['tenant_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('uk_employees_object_id_fkey', 'uk_employees', type_='foreignkey')
    op.drop_constraint('uk_employees_uk_id_fkey', 'uk_employees', type_='foreignkey')
    op.create_foreign_key(None, 'uk_employees', 'object_profiles', ['object_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'uk_employees', 'uk_profiles', ['uk_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint('uk_notification_uk_id_fkey', 'uk_notification', type_='foreignkey')
    op.create_foreign_key(None, 'uk_notification', 'uk_profiles', ['uk_id'], ['id'], ondelete='CASCADE')
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(None, 'uk_notification', type_='foreignkey')
    op.create_foreign_key('uk_notification_uk_id_fkey', 'uk_notification', 'uk_profiles', ['uk_id'], ['id'])
    op.drop_constraint(None, 'uk_employees', type_='foreignkey')
    op.drop_constraint(None, 'uk_employees', type_='foreignkey')
    op.create_foreign_key('uk_employees_uk_id_fkey', 'uk_employees', 'uk_profiles', ['uk_id'], ['id'])
    op.create_foreign_key('uk_employees_object_id_fkey', 'uk_employees', 'object_profiles', ['object_id'], ['id'])
    op.drop_constraint(None, 'tenant_notification', type_='foreignkey')
    op.create_foreign_key('tenant_notification_tenant_id_fkey', 'tenant_notification', 'tenant_profiles', ['tenant_id'], ['id'])
    op.drop_constraint(None, 'tenant_apartments', type_='foreignkey')
    op.drop_constraint(None, 'tenant_apartments', type_='foreignkey')
    op.create_foreign_key('tenant_apartments_apartment_id_fkey', 'tenant_apartments', 'apartment_profiles', ['apartment_id'], ['id'])
    op.create_foreign_key('tenant_apartments_tenant_id_fkey', 'tenant_apartments', 'tenant_profiles', ['tenant_id'], ['id'])
    op.drop_constraint(None, 'service_objects_list', type_='foreignkey')
    op.drop_constraint(None, 'service_objects_list', type_='foreignkey')
    op.create_foreign_key('service_objects_list_object_id_fkey', 'service_objects_list', 'object_profiles', ['object_id'], ['id'])
    op.create_foreign_key('service_objects_list_service_id_fkey', 'service_objects_list', 'services', ['service_id'], ['id'])
    op.drop_constraint(None, 'orders_from_tenant', type_='foreignkey')
    op.drop_constraint(None, 'orders_from_tenant', type_='foreignkey')
    op.create_foreign_key('orders_from_tenant_tenant_id_fkey', 'orders_from_tenant', 'tenant_profiles', ['tenant_id'], ['id'])
    op.create_foreign_key('orders_from_tenant_order_id_fkey', 'orders_from_tenant', 'orders', ['order_id'], ['id'])
    op.drop_constraint(None, 'orders_executors', type_='foreignkey')
    op.drop_constraint(None, 'orders_executors', type_='foreignkey')
    op.create_foreign_key('orders_executors_order_id_fkey', 'orders_executors', 'orders', ['order_id'], ['id'])
    op.create_foreign_key('orders_executors_executor_id_fkey', 'orders_executors', 'executor_profiles', ['executor_id'], ['id'])
    op.drop_constraint(None, 'orders', type_='foreignkey')
    op.drop_constraint(None, 'orders', type_='foreignkey')
    op.create_foreign_key('orders_selected_service_id_fkey', 'orders', 'services', ['selected_service_id'], ['id'])
    op.create_foreign_key('orders_apartment_id_fkey', 'orders', 'apartment_profiles', ['apartment_id'], ['id'])
    op.drop_constraint(None, 'object_profiles', type_='foreignkey')
    op.create_foreign_key('object_profiles_uk_id_fkey', 'object_profiles', 'uk_profiles', ['uk_id'], ['id'])
    op.drop_constraint(None, 'news_apartments', type_='foreignkey')
    op.drop_constraint(None, 'news_apartments', type_='foreignkey')
    op.create_foreign_key('news_apartments_apartment_id_fkey', 'news_apartments', 'apartment_profiles', ['apartment_id'], ['id'])
    op.create_foreign_key('news_apartments_news_id_fkey', 'news_apartments', 'news', ['news_id'], ['id'])
    op.drop_constraint(None, 'news', type_='foreignkey')
    op.create_foreign_key('news_uk_id_fkey', 'news', 'uk_profiles', ['uk_id'], ['id'])
    op.drop_constraint(None, 'meters', type_='foreignkey')
    op.drop_constraint(None, 'meters', type_='foreignkey')
    op.create_foreign_key('meters_apartment_id_fkey', 'meters', 'apartment_profiles', ['apartment_id'], ['id'])
    op.create_foreign_key('meters_meter_service_id_fkey', 'meters', 'meter_service', ['meter_service_id'], ['id'])
    op.drop_constraint(None, 'invoice_history', type_='foreignkey')
    op.drop_constraint(None, 'invoice_history', type_='foreignkey')
    op.drop_constraint(None, 'invoice_history', type_='foreignkey')
    op.create_foreign_key('invoice_history_meter_service_id_fkey', 'invoice_history', 'meter_service', ['meter_service_id'], ['id'])
    op.create_foreign_key('invoice_history_apartment_id_fkey', 'invoice_history', 'apartment_profiles', ['apartment_id'], ['id'])
    op.create_foreign_key('invoice_history_service_id_fkey', 'invoice_history', 'services', ['service_id'], ['id'])
    op.drop_constraint(None, 'guest_pass_documents', type_='foreignkey')
    op.create_foreign_key('guest_pass_documents_guest_pass_id_fkey', 'guest_pass_documents', 'guest_pass', ['guest_pass_id'], ['id'])
    op.drop_constraint(None, 'guest_pass', type_='foreignkey')
    op.create_foreign_key('guest_pass_apartment_id_fkey', 'guest_pass', 'apartment_profiles', ['apartment_id'], ['id'])
    op.drop_constraint(None, 'executor_profiles', type_='foreignkey')
    op.drop_constraint(None, 'executor_profiles', type_='foreignkey')
    op.create_foreign_key('executor_profiles_uk_id_fkey', 'executor_profiles', 'uk_profiles', ['uk_id'], ['id'])
    op.create_foreign_key('executor_profiles_bank_details_id_fkey', 'executor_profiles', 'bank_detail_executors', ['bank_details_id'], ['id'])
    op.drop_constraint(None, 'employee_notification', type_='foreignkey')
    op.drop_constraint(None, 'employee_notification', type_='foreignkey')
    op.create_foreign_key('employee_notification_object_id_fkey', 'employee_notification', 'object_profiles', ['object_id'], ['id'])
    op.create_foreign_key('employee_notification_employee_id_fkey', 'employee_notification', 'uk_employees', ['employee_id'], ['id'])
    op.drop_constraint(None, 'contacts', type_='foreignkey')
    op.create_foreign_key('contacts_uk_id_fkey', 'contacts', 'uk_profiles', ['uk_id'], ['id'])
    op.drop_constraint(None, 'bathroom_apartments', type_='foreignkey')
    op.create_foreign_key('bathroom_apartments_apartment_id_fkey', 'bathroom_apartments', 'apartment_profiles', ['apartment_id'], ['id'])
    op.drop_constraint(None, 'bank_detail_executors', type_='foreignkey')
    op.drop_column('bank_detail_executors', 'executor_id')
    op.drop_constraint(None, 'apartment_profiles', type_='foreignkey')
    op.create_foreign_key('apartment_profiles_object_id_fkey', 'apartment_profiles', 'object_profiles', ['object_id'], ['id'])
    op.drop_constraint(None, 'additional_services_list', type_='foreignkey')
    op.create_foreign_key('additional_services_list_service_id_fkey', 'additional_services_list', 'services', ['service_id'], ['id'])
    op.drop_constraint(None, 'additional_services', type_='foreignkey')
    op.drop_constraint(None, 'additional_services', type_='foreignkey')
    op.drop_constraint(None, 'additional_services', type_='foreignkey')
    op.create_foreign_key('additional_services_service_id_fkey', 'additional_services', 'services', ['service_id'], ['id'])
    op.create_foreign_key('additional_services_order_id_fkey', 'additional_services', 'orders', ['order_id'], ['id'])
    op.create_foreign_key('additional_services_additional_service_id_fkey', 'additional_services', 'additional_services_list', ['additional_service_id'], ['id'])
    # ### end Alembic commands ###
